"use strict";var de=Object.defineProperty;var ve=(o,e,r)=>e in o?de(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var q=(o,e,r)=>(ve(o,typeof e!="symbol"?e+"":e,r),r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var oe={},Q={},X={},te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");X.encode=function(o){if(0<=o&&o<te.length)return te[o];throw new TypeError("Must be between 0 and 63: "+o)};X.decode=function(o){var e=65,r=90,n=97,t=122,i=48,s=57,c=43,l=47,f=26,h=52;return e<=o&&o<=r?o-e:n<=o&&o<=t?o-n+f:i<=o&&o<=s?o-i+h:o==c?62:o==l?63:-1};var ie=X,Y=5,se=1<<Y,ue=se-1,le=se;function pe(o){return o<0?(-o<<1)+1:(o<<1)+0}function _e(o){var e=(o&1)===1,r=o>>1;return e?-r:r}Q.encode=function(e){var r="",n,t=pe(e);do n=t&ue,t>>>=Y,t>0&&(n|=le),r+=ie.encode(n);while(t>0);return r};Q.decode=function(e,r,n){var t=e.length,i=0,s=0,c,l;do{if(r>=t)throw new Error("Expected more digits in base 64 VLQ value.");if(l=ie.decode(e.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));c=!!(l&le),l&=ue,i=i+(l<<s),s+=Y}while(c);n.value=_e(i),n.rest=r};var D={};(function(o){function e(u,a,p){if(a in u)return u[a];if(arguments.length===3)return p;throw new Error('"'+a+'" is a required argument.')}o.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function t(u){var a=u.match(r);return a?{scheme:a[1],auth:a[2],host:a[3],port:a[4],path:a[5]}:null}o.urlParse=t;function i(u){var a="";return u.scheme&&(a+=u.scheme+":"),a+="//",u.auth&&(a+=u.auth+"@"),u.host&&(a+=u.host),u.port&&(a+=":"+u.port),u.path&&(a+=u.path),a}o.urlGenerate=i;function s(u){var a=u,p=t(u);if(p){if(!p.path)return u;a=p.path}for(var d=o.isAbsolute(a),A=a.split(/\/+/),k,P=0,$=A.length-1;$>=0;$--)k=A[$],k==="."?A.splice($,1):k===".."?P++:P>0&&(k===""?(A.splice($+1,P),P=0):(A.splice($,2),P--));return a=A.join("/"),a===""&&(a=d?"/":"."),p?(p.path=a,i(p)):a}o.normalize=s;function c(u,a){u===""&&(u="."),a===""&&(a=".");var p=t(a),d=t(u);if(d&&(u=d.path||"/"),p&&!p.scheme)return d&&(p.scheme=d.scheme),i(p);if(p||a.match(n))return a;if(d&&!d.host&&!d.path)return d.host=a,i(d);var A=a.charAt(0)==="/"?a:s(u.replace(/\/+$/,"")+"/"+a);return d?(d.path=A,i(d)):A}o.join=c,o.isAbsolute=function(u){return u.charAt(0)==="/"||r.test(u)};function l(u,a){u===""&&(u="."),u=u.replace(/\/$/,"");for(var p=0;a.indexOf(u+"/")!==0;){var d=u.lastIndexOf("/");if(d<0||(u=u.slice(0,d),u.match(/^([^\/]+:\/)?\/*$/)))return a;++p}return Array(p+1).join("../")+a.substr(u.length+1)}o.relative=l;var f=function(){var u=Object.create(null);return!("__proto__"in u)}();function h(u){return u}function _(u){return m(u)?"$"+u:u}o.toSetString=f?h:_;function v(u){return m(u)?u.slice(1):u}o.fromSetString=f?h:v;function m(u){if(!u)return!1;var a=u.length;if(a<9||u.charCodeAt(a-1)!==95||u.charCodeAt(a-2)!==95||u.charCodeAt(a-3)!==111||u.charCodeAt(a-4)!==116||u.charCodeAt(a-5)!==111||u.charCodeAt(a-6)!==114||u.charCodeAt(a-7)!==112||u.charCodeAt(a-8)!==95||u.charCodeAt(a-9)!==95)return!1;for(var p=a-10;p>=0;p--)if(u.charCodeAt(p)!==36)return!1;return!0}function w(u,a,p){var d=b(u.source,a.source);return d!==0||(d=u.originalLine-a.originalLine,d!==0)||(d=u.originalColumn-a.originalColumn,d!==0||p)||(d=u.generatedColumn-a.generatedColumn,d!==0)||(d=u.generatedLine-a.generatedLine,d!==0)?d:b(u.name,a.name)}o.compareByOriginalPositions=w;function M(u,a,p){var d=u.generatedLine-a.generatedLine;return d!==0||(d=u.generatedColumn-a.generatedColumn,d!==0||p)||(d=b(u.source,a.source),d!==0)||(d=u.originalLine-a.originalLine,d!==0)||(d=u.originalColumn-a.originalColumn,d!==0)?d:b(u.name,a.name)}o.compareByGeneratedPositionsDeflated=M;function b(u,a){return u===a?0:u===null?1:a===null?-1:u>a?1:-1}function C(u,a){var p=u.generatedLine-a.generatedLine;return p!==0||(p=u.generatedColumn-a.generatedColumn,p!==0)||(p=b(u.source,a.source),p!==0)||(p=u.originalLine-a.originalLine,p!==0)||(p=u.originalColumn-a.originalColumn,p!==0)?p:b(u.name,a.name)}o.compareByGeneratedPositionsInflated=C;function N(u){return JSON.parse(u.replace(/^\)]}'[^\n]*\n/,""))}o.parseSourceMapInput=N;function U(u,a,p){if(a=a||"",u&&(u[u.length-1]!=="/"&&a[0]!=="/"&&(u+="/"),a=u+a),p){var d=t(p);if(!d)throw new Error("sourceMapURL could not be parsed");if(d.path){var A=d.path.lastIndexOf("/");A>=0&&(d.path=d.path.substring(0,A+1))}a=c(i(d),a)}return s(a)}o.computeSourceURL=U})(D);var H={},ee=D,re=Object.prototype.hasOwnProperty,I=typeof Map<"u";function G(){this._array=[],this._set=I?new Map:Object.create(null)}G.fromArray=function(e,r){for(var n=new G,t=0,i=e.length;t<i;t++)n.add(e[t],r);return n};G.prototype.size=function(){return I?this._set.size:Object.getOwnPropertyNames(this._set).length};G.prototype.add=function(e,r){var n=I?e:ee.toSetString(e),t=I?this.has(e):re.call(this._set,n),i=this._array.length;(!t||r)&&this._array.push(e),t||(I?this._set.set(e,i):this._set[n]=i)};G.prototype.has=function(e){if(I)return this._set.has(e);var r=ee.toSetString(e);return re.call(this._set,r)};G.prototype.indexOf=function(e){if(I){var r=this._set.get(e);if(r>=0)return r}else{var n=ee.toSetString(e);if(re.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};G.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};G.prototype.toArray=function(){return this._array.slice()};H.ArraySet=G;var ae={},ce=D;function me(o,e){var r=o.generatedLine,n=e.generatedLine,t=o.generatedColumn,i=e.generatedColumn;return n>r||n==r&&i>=t||ce.compareByGeneratedPositionsInflated(o,e)<=0}function V(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}V.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};V.prototype.add=function(e){me(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};V.prototype.toArray=function(){return this._sorted||(this._array.sort(ce.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};ae.MappingList=V;var B=Q,y=D,z=H.ArraySet,Se=ae.MappingList;function E(o){o||(o={}),this._file=y.getArg(o,"file",null),this._sourceRoot=y.getArg(o,"sourceRoot",null),this._skipValidation=y.getArg(o,"skipValidation",!1),this._sources=new z,this._names=new z,this._mappings=new Se,this._sourcesContents=null}E.prototype._version=3;E.fromSourceMap=function(e){var r=e.sourceRoot,n=new E({file:e.file,sourceRoot:r});return e.eachMapping(function(t){var i={generated:{line:t.generatedLine,column:t.generatedColumn}};t.source!=null&&(i.source=t.source,r!=null&&(i.source=y.relative(r,i.source)),i.original={line:t.originalLine,column:t.originalColumn},t.name!=null&&(i.name=t.name)),n.addMapping(i)}),e.sources.forEach(function(t){var i=t;r!==null&&(i=y.relative(r,t)),n._sources.has(i)||n._sources.add(i);var s=e.sourceContentFor(t);s!=null&&n.setSourceContent(t,s)}),n};E.prototype.addMapping=function(e){var r=y.getArg(e,"generated"),n=y.getArg(e,"original",null),t=y.getArg(e,"source",null),i=y.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,t,i),t!=null&&(t=String(t),this._sources.has(t)||this._sources.add(t)),i!=null&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:t,name:i})};E.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=y.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[y.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[y.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};E.prototype.applySourceMap=function(e,r,n){var t=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);t=e.file}var i=this._sourceRoot;i!=null&&(t=y.relative(i,t));var s=new z,c=new z;this._mappings.unsortedForEach(function(l){if(l.source===t&&l.originalLine!=null){var f=e.originalPositionFor({line:l.originalLine,column:l.originalColumn});f.source!=null&&(l.source=f.source,n!=null&&(l.source=y.join(n,l.source)),i!=null&&(l.source=y.relative(i,l.source)),l.originalLine=f.line,l.originalColumn=f.column,f.name!=null&&(l.name=f.name))}var h=l.source;h!=null&&!s.has(h)&&s.add(h);var _=l.name;_!=null&&!c.has(_)&&c.add(_)},this),this._sources=s,this._names=c,e.sources.forEach(function(l){var f=e.sourceContentFor(l);f!=null&&(n!=null&&(l=y.join(n,l)),i!=null&&(l=y.relative(i,l)),this.setSourceContent(l,f))},this)};E.prototype._validateMapping=function(e,r,n,t){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!t)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:t}))}};E.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,t=0,i=0,s=0,c="",l,f,h,_,v=this._mappings.toArray(),m=0,w=v.length;m<w;m++){if(f=v[m],l="",f.generatedLine!==r)for(e=0;f.generatedLine!==r;)l+=";",r++;else if(m>0){if(!y.compareByGeneratedPositionsInflated(f,v[m-1]))continue;l+=","}l+=B.encode(f.generatedColumn-e),e=f.generatedColumn,f.source!=null&&(_=this._sources.indexOf(f.source),l+=B.encode(_-s),s=_,l+=B.encode(f.originalLine-1-t),t=f.originalLine-1,l+=B.encode(f.originalColumn-n),n=f.originalColumn,f.name!=null&&(h=this._names.indexOf(f.name),l+=B.encode(h-i),i=h)),c+=l}return c};E.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=y.relative(r,n));var t=y.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)};E.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};E.prototype.toString=function(){return JSON.stringify(this.toJSON())};oe.SourceMapGenerator=E;var W={},fe={};(function(o){o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2;function e(r,n,t,i,s,c){var l=Math.floor((n-r)/2)+r,f=s(t,i[l],!0);return f===0?l:f>0?n-l>1?e(l,n,t,i,s,c):c==o.LEAST_UPPER_BOUND?n<i.length?n:-1:l:l-r>1?e(r,l,t,i,s,c):c==o.LEAST_UPPER_BOUND?l:r<0?-1:r}o.search=function(n,t,i,s){if(t.length===0)return-1;var c=e(-1,t.length,n,t,i,s||o.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&i(t[c],t[c-1],!0)===0;)--c;return c}})(fe);var he={};function J(o,e,r){var n=o[e];o[e]=o[r],o[r]=n}function ye(o,e){return Math.round(o+Math.random()*(e-o))}function Z(o,e,r,n){if(r<n){var t=ye(r,n),i=r-1;J(o,t,n);for(var s=o[n],c=r;c<n;c++)e(o[c],s)<=0&&(i+=1,J(o,i,c));J(o,i+1,c);var l=i+1;Z(o,e,r,l-1),Z(o,e,l+1,n)}}he.quickSort=function(o,e){Z(o,e,0,o.length-1)};var g=D,ne=fe,T=H.ArraySet,Ce=Q,F=he.quickSort;function S(o,e){var r=o;return typeof o=="string"&&(r=g.parseSourceMapInput(o)),r.sections!=null?new R(r,e):new L(r,e)}S.fromSourceMap=function(o,e){return L.fromSourceMap(o,e)};S.prototype._version=3;S.prototype.__generatedMappings=null;Object.defineProperty(S.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});S.prototype.__originalMappings=null;Object.defineProperty(S.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});S.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};S.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};S.GENERATED_ORDER=1;S.ORIGINAL_ORDER=2;S.GREATEST_LOWER_BOUND=1;S.LEAST_UPPER_BOUND=2;S.prototype.eachMapping=function(e,r,n){var t=r||null,i=n||S.GENERATED_ORDER,s;switch(i){case S.GENERATED_ORDER:s=this._generatedMappings;break;case S.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var c=this.sourceRoot;s.map(function(l){var f=l.source===null?null:this._sources.at(l.source);return f=g.computeSourceURL(c,f,this._sourceMapURL),{source:f,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(e,t)};S.prototype.allGeneratedPositionsFor=function(e){var r=g.getArg(e,"line"),n={source:g.getArg(e,"source"),originalLine:r,originalColumn:g.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var t=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",g.compareByOriginalPositions,ne.LEAST_UPPER_BOUND);if(i>=0){var s=this._originalMappings[i];if(e.column===void 0)for(var c=s.originalLine;s&&s.originalLine===c;)t.push({line:g.getArg(s,"generatedLine",null),column:g.getArg(s,"generatedColumn",null),lastColumn:g.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++i];else for(var l=s.originalColumn;s&&s.originalLine===r&&s.originalColumn==l;)t.push({line:g.getArg(s,"generatedLine",null),column:g.getArg(s,"generatedColumn",null),lastColumn:g.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++i]}return t};W.SourceMapConsumer=S;function L(o,e){var r=o;typeof o=="string"&&(r=g.parseSourceMapInput(o));var n=g.getArg(r,"version"),t=g.getArg(r,"sources"),i=g.getArg(r,"names",[]),s=g.getArg(r,"sourceRoot",null),c=g.getArg(r,"sourcesContent",null),l=g.getArg(r,"mappings"),f=g.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);s&&(s=g.normalize(s)),t=t.map(String).map(g.normalize).map(function(h){return s&&g.isAbsolute(s)&&g.isAbsolute(h)?g.relative(s,h):h}),this._names=T.fromArray(i.map(String),!0),this._sources=T.fromArray(t,!0),this._absoluteSources=this._sources.toArray().map(function(h){return g.computeSourceURL(s,h,e)}),this.sourceRoot=s,this.sourcesContent=c,this._mappings=l,this._sourceMapURL=e,this.file=f}L.prototype=Object.create(S.prototype);L.prototype.consumer=S;L.prototype._findSourceIndex=function(o){var e=o;if(this.sourceRoot!=null&&(e=g.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==o)return r;return-1};L.fromSourceMap=function(e,r){var n=Object.create(L.prototype),t=n._names=T.fromArray(e._names.toArray(),!0),i=n._sources=T.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(m){return g.computeSourceURL(n.sourceRoot,m,r)});for(var s=e._mappings.toArray().slice(),c=n.__generatedMappings=[],l=n.__originalMappings=[],f=0,h=s.length;f<h;f++){var _=s[f],v=new ge;v.generatedLine=_.generatedLine,v.generatedColumn=_.generatedColumn,_.source&&(v.source=i.indexOf(_.source),v.originalLine=_.originalLine,v.originalColumn=_.originalColumn,_.name&&(v.name=t.indexOf(_.name)),l.push(v)),c.push(v)}return F(n.__originalMappings,g.compareByOriginalPositions),n};L.prototype._version=3;Object.defineProperty(L.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function ge(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}L.prototype._parseMappings=function(e,r){for(var n=1,t=0,i=0,s=0,c=0,l=0,f=e.length,h=0,_={},v={},m=[],w=[],M,b,C,N,U;h<f;)if(e.charAt(h)===";")n++,h++,t=0;else if(e.charAt(h)===",")h++;else{for(M=new ge,M.generatedLine=n,N=h;N<f&&!this._charIsMappingSeparator(e,N);N++);if(b=e.slice(h,N),C=_[b],C)h+=b.length;else{for(C=[];h<N;)Ce.decode(e,h,v),U=v.value,h=v.rest,C.push(U);if(C.length===2)throw new Error("Found a source, but no line and column");if(C.length===3)throw new Error("Found a source and line, but no column");_[b]=C}M.generatedColumn=t+C[0],t=M.generatedColumn,C.length>1&&(M.source=c+C[1],c+=C[1],M.originalLine=i+C[2],i=M.originalLine,M.originalLine+=1,M.originalColumn=s+C[3],s=M.originalColumn,C.length>4&&(M.name=l+C[4],l+=C[4])),w.push(M),typeof M.originalLine=="number"&&m.push(M)}F(w,g.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,F(m,g.compareByOriginalPositions),this.__originalMappings=m};L.prototype._findMapping=function(e,r,n,t,i,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[t]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[t]);return ne.search(e,r,i,s)};L.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};L.prototype.originalPositionFor=function(e){var r={generatedLine:g.getArg(e,"line"),generatedColumn:g.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",g.compareByGeneratedPositionsDeflated,g.getArg(e,"bias",S.GREATEST_LOWER_BOUND));if(n>=0){var t=this._generatedMappings[n];if(t.generatedLine===r.generatedLine){var i=g.getArg(t,"source",null);i!==null&&(i=this._sources.at(i),i=g.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var s=g.getArg(t,"name",null);return s!==null&&(s=this._names.at(s)),{source:i,line:g.getArg(t,"originalLine",null),column:g.getArg(t,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}};L.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};L.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var t=e;this.sourceRoot!=null&&(t=g.relative(this.sourceRoot,t));var i;if(this.sourceRoot!=null&&(i=g.urlParse(this.sourceRoot))){var s=t.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!i.path||i.path=="/")&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')};L.prototype.generatedPositionFor=function(e){var r=g.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:g.getArg(e,"line"),originalColumn:g.getArg(e,"column")},t=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",g.compareByOriginalPositions,g.getArg(e,"bias",S.GREATEST_LOWER_BOUND));if(t>=0){var i=this._originalMappings[t];if(i.source===n.source)return{line:g.getArg(i,"generatedLine",null),column:g.getArg(i,"generatedColumn",null),lastColumn:g.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};W.BasicSourceMapConsumer=L;function R(o,e){var r=o;typeof o=="string"&&(r=g.parseSourceMapInput(o));var n=g.getArg(r,"version"),t=g.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new T,this._names=new T;var i={line:-1,column:0};this._sections=t.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var c=g.getArg(s,"offset"),l=g.getArg(c,"line"),f=g.getArg(c,"column");if(l<i.line||l===i.line&&f<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=c,{generatedOffset:{generatedLine:l+1,generatedColumn:f+1},consumer:new S(g.getArg(s,"map"),e)}})}R.prototype=Object.create(S.prototype);R.prototype.constructor=S;R.prototype._version=3;Object.defineProperty(R.prototype,"sources",{get:function(){for(var o=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)o.push(this._sections[e].consumer.sources[r]);return o}});R.prototype.originalPositionFor=function(e){var r={generatedLine:g.getArg(e,"line"),generatedColumn:g.getArg(e,"column")},n=ne.search(r,this._sections,function(i,s){var c=i.generatedLine-s.generatedOffset.generatedLine;return c||i.generatedColumn-s.generatedOffset.generatedColumn}),t=this._sections[n];return t?t.consumer.originalPositionFor({line:r.generatedLine-(t.generatedOffset.generatedLine-1),column:r.generatedColumn-(t.generatedOffset.generatedLine===r.generatedLine?t.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};R.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};R.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var t=this._sections[n],i=t.consumer.sourceContentFor(e,!0);if(i)return i}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};R.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(g.getArg(e,"source"))!==-1){var t=n.consumer.generatedPositionFor(e);if(t){var i={line:t.line+(n.generatedOffset.generatedLine-1),column:t.column+(n.generatedOffset.generatedLine===t.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}};R.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var t=this._sections[n],i=t.consumer._generatedMappings,s=0;s<i.length;s++){var c=i[s],l=t.consumer._sources.at(c.source);l=g.computeSourceURL(t.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var f=null;c.name&&(f=t.consumer._names.at(c.name),this._names.add(f),f=this._names.indexOf(f));var h={source:l,generatedLine:c.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(t.generatedOffset.generatedLine===c.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:f};this.__generatedMappings.push(h),typeof h.originalLine=="number"&&this.__originalMappings.push(h)}F(this.__generatedMappings,g.compareByGeneratedPositionsDeflated),F(this.__originalMappings,g.compareByOriginalPositions)};W.IndexedSourceMapConsumer=R;var Le=oe.SourceMapGenerator,x=D,Me=/(\r?\n)/,we=10,j="$$$isSourceNode$$$";function O(o,e,r,n,t){this.children=[],this.sourceContents={},this.line=o??null,this.column=e??null,this.source=r??null,this.name=t??null,this[j]=!0,n!=null&&this.add(n)}O.fromStringWithSourceMap=function(e,r,n){var t=new O,i=e.split(Me),s=0,c=function(){var v=w(),m=w()||"";return v+m;function w(){return s<i.length?i[s++]:void 0}},l=1,f=0,h=null;return r.eachMapping(function(v){if(h!==null)if(l<v.generatedLine)_(h,c()),l++,f=0;else{var m=i[s]||"",w=m.substr(0,v.generatedColumn-f);i[s]=m.substr(v.generatedColumn-f),f=v.generatedColumn,_(h,w),h=v;return}for(;l<v.generatedLine;)t.add(c()),l++;if(f<v.generatedColumn){var m=i[s]||"";t.add(m.substr(0,v.generatedColumn)),i[s]=m.substr(v.generatedColumn),f=v.generatedColumn}h=v},this),s<i.length&&(h&&_(h,c()),t.add(i.splice(s).join(""))),r.sources.forEach(function(v){var m=r.sourceContentFor(v);m!=null&&(n!=null&&(v=x.join(n,v)),t.setSourceContent(v,m))}),t;function _(v,m){if(v===null||v.source===void 0)t.add(m);else{var w=n?x.join(n,v.source):v.source;t.add(new O(v.originalLine,v.originalColumn,w,m,v.name))}}};O.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[j]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};O.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[j]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};O.prototype.walk=function(e){for(var r,n=0,t=this.children.length;n<t;n++)r=this.children[n],r[j]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};O.prototype.join=function(e){var r,n,t=this.children.length;if(t>0){for(r=[],n=0;n<t-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};O.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[j]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};O.prototype.setSourceContent=function(e,r){this.sourceContents[x.toSetString(e)]=r};O.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][j]&&this.children[r].walkSourceContents(e);for(var t=Object.keys(this.sourceContents),r=0,n=t.length;r<n;r++)e(x.fromSetString(t[r]),this.sourceContents[t[r]])};O.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};O.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new Le(e),t=!1,i=null,s=null,c=null,l=null;return this.walk(function(f,h){r.code+=f,h.source!==null&&h.line!==null&&h.column!==null?((i!==h.source||s!==h.line||c!==h.column||l!==h.name)&&n.addMapping({source:h.source,original:{line:h.line,column:h.column},generated:{line:r.line,column:r.column},name:h.name}),i=h.source,s=h.line,c=h.column,l=h.name,t=!0):t&&(n.addMapping({generated:{line:r.line,column:r.column}}),i=null,t=!1);for(var _=0,v=f.length;_<v;_++)f.charCodeAt(_)===we?(r.line++,r.column=0,_+1===v?(i=null,t=!1):t&&n.addMapping({source:h.source,original:{line:h.line,column:h.column},generated:{line:r.line,column:r.column},name:h.name})):r.column++}),this.walkSourceContents(function(f,h){n.setSourceContent(f,h)}),{code:r.code,map:n}};var Ae=W.SourceMapConsumer;class K{static get consumer(){return this._consumer==null&&(this._consumer=new Ae(require("source-map"))),this._consumer}static sourceMapStackTrace(e){const r=e instanceof Error?e.stack:e;if(r in this.cache)return this.cache[r];const n=/^\s+at\s+(.+?\s+)?\(?([0-z._\-\\\/]+):(\d+):(\d+)\)?$/gm;let t,i=e.toString();for(;(t=n.exec(r))&&t[2]==="main";){const s=this.consumer.originalPositionFor({column:parseInt(t[4],10),line:parseInt(t[3],10)});if(s.line==null)break;const c=s.name??t[1];i+=`<br> at ${c}${c?" ":""}(${s.source}:${s.line}:${s.column})`}return this.cache[r]=i,i}static warpLoop(e){try{e()}catch(r){if(r instanceof Error)console.log(`<span style='color:red'>${"sim"in Game.rooms?`Source map don't work in the simulator - displaying oringinal error<br>${r.stack}`:this.sourceMapStackTrace(r)}</span>`);else throw r}}}q(K,"_consumer"),q(K,"cache",{});const Oe=K.warpLoop(require("loop").loop);exports.loop=Oe;
